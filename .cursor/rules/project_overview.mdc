---
description: "This rule provides a comprehensive overview of the Living Truth Engine project, including architecture, components, and development guidelines."
globs: ["**/*"]
alwaysApply: true
---

# Living Truth Engine - Project Overview

## Description
This rule provides a comprehensive overview of the Living Truth Engine project, including architecture, components, and development guidelines.

## ðŸŽ¯ **Project Overview**

### **Living Truth Engine**
The Living Truth Engine is an AI-powered system for survivor testimony corroboration and evidence analysis. It combines multiple technologies to provide comprehensive analysis capabilities, using multiple sources (including but not limited to Biblical references) to find supporting evidence and make connections.

### **Core Components**
- **Langflow**: Primary AI workflow orchestration platform
- **PostgreSQL**: Primary database for data storage with langflow database
- **Neo4j**: Graph database for relationship analysis
- **Redis**: Caching and session management
- **Dash Dashboard**: Interactive visualizations for survivor testimony analysis
- **MCP Server**: Model Context Protocol server for tool integration
- **Python Backend**: Core analysis and processing logic
- **Docker**: Containerized deployment and development

## ðŸ—ï¸ **Architecture**

### **Service Architecture**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Langflow      â”‚    â”‚   PostgreSQL    â”‚    â”‚   MCP Server    â”‚
â”‚   (Port 7860)   â”‚    â”‚   (Port 5432)   â”‚    â”‚   (Local)       â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Multi-Agent   â”‚    â”‚ â€¢ Data Storage  â”‚    â”‚ â€¢ Tool Server   â”‚
â”‚ â€¢ Python Native â”‚    â”‚ â€¢ Langflow DB   â”‚    â”‚ â€¢ API Endpoints â”‚
â”‚ â€¢ Workflow UI   â”‚    â”‚ â€¢ Analysis Data â”‚    â”‚ â€¢ Integration   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Neo4j         â”‚    â”‚   Dash Dashboardâ”‚
                    â”‚   (Port 7474)   â”‚    â”‚   (Port 8050)   â”‚
                    â”‚                 â”‚    â”‚                 â”‚
                    â”‚ â€¢ Graph DB      â”‚    â”‚ â€¢ Visualizationsâ”‚
                    â”‚ â€¢ Relationships â”‚    â”‚ â€¢ Interactive UIâ”‚
                    â”‚ â€¢ Network Data  â”‚    â”‚ â€¢ Real-time Dataâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Data Flow**
1. **Input**: Transcripts, videos, documents
2. **Processing**: AI analysis, pattern recognition
3. **Storage**: PostgreSQL database
4. **Output**: Analysis reports, visualizations, summaries

## ðŸ“ **Project Structure**

### **Directory Organization**
```
LivingTruthEngine/
â”œâ”€â”€ docker/                    # Docker configuration
â”‚   â”œâ”€â”€ docker-compose.yml    # Service orchestration
â”‚   â””â”€â”€ .dockerignore         # Build exclusions
â”œâ”€â”€ scripts/                   # Automation scripts
â”‚   â”œâ”€â”€ setup/                # Setup and configuration
â”‚   â”œâ”€â”€ testing/              # Test automation
â”‚   â””â”€â”€ deployment/           # Deployment scripts
â”œâ”€â”€ src/                      # Source code
â”‚   â”œâ”€â”€ mcp_servers/          # MCP server implementations
â”‚   â”œâ”€â”€ analysis/             # Analysis modules
â”‚   â””â”€â”€ utils/                # Utility functions
â”œâ”€â”€ data/                     # Data storage
â”‚   â”œâ”€â”€ sources/              # Input data sources
â”‚   â”œâ”€â”€ outputs/              # Analysis outputs
â”‚   â””â”€â”€ logs/                 # Application logs
â”œâ”€â”€ config/                   # Configuration files
â”œâ”€â”€ tests/                    # Test suite
â”œâ”€â”€ docs/                     # Documentation
â””â”€â”€ .cursor/                  # Cursor IDE configuration
    â”œâ”€â”€ rules/                # Development rules
    â””â”€â”€ mcp.json             # MCP server configuration
```

## ðŸ”§ **Technology Stack**

### **Core Technologies**
- **Python 3.13**: Primary programming language
- **PostgreSQL 17**: Database system with langflow database
- **Neo4j 5.15.0**: Graph database for relationship analysis
- **Redis 7.2**: Caching and session management
- **Docker**: Containerization platform
- **Docker Compose v2**: Service orchestration

### **AI and ML**
- **LangChain**: AI framework for LLM integration
- **Hugging Face**: Model hosting and inference
- **OpenAI**: Language model API
- **SpaCy**: Natural language processing
- **Piper TTS**: Text-to-speech synthesis
- **Dash/Plotly**: Interactive data visualizations

### **Development Tools**
- **Cursor IDE**: AI-assisted development environment
- **MCP**: Model Context Protocol for tool integration
- **FastAPI**: Web framework for APIs
- **Uvicorn**: ASGI server

## ðŸ“‹ **Development Guidelines**

### **Code Standards**
- **Type Hints**: Required for all Python functions
- **Docstrings**: Comprehensive documentation
- **Naming**: Consistent snake_case for Python, camelCase for JavaScript
- **Error Handling**: Explicit error handling with logging
- **Testing**: 90%+ code coverage required

### **Docker Best Practices**
- **Docker Compose v2**: Modern syntax, no version field
- **Security**: Non-root users, read-only volumes
- **Performance**: BuildKit, slim base images, layer optimization
- **Health Checks**: Comprehensive monitoring
- **Networking**: Explicit network configuration

### **System Management**
- **Environment**: Virtual environment for all Python operations
- **Automation**: Scripts for common operations
- **Monitoring**: Health checks and logging
- **Updates**: Regular system component updates
- **Backup**: Data backup and recovery procedures

## ðŸš€ **Development Workflow**

### **Daily Development**
1. **Environment Setup**: Activate virtual environment
2. **Service Start**: Start Docker services
3. **Development**: Code with AI assistance
4. **Testing**: Run tests and validation
5. **Documentation**: Update docs as needed

### **Weekly Maintenance**
1. **System Updates**: Update components
2. **Resource Cleanup**: Remove unused Docker resources
3. **Configuration Validation**: Verify all configurations
4. **Performance Review**: Monitor system performance

### **Monthly Review**
1. **Security Updates**: Check for security patches
2. **Documentation Review**: Update project documentation
3. **Rule Updates**: Review and update cursor rules
4. **Architecture Review**: Assess system architecture

## ðŸŽ¯ **Key Features**

### **Analysis Capabilities**
- **Transcript Analysis**: Pattern recognition in survivor testimony
- **Multi-Source Evidence Analysis**: Connecting survivor stories with supporting evidence from various sources
- **Biblical References**: One source among many for finding supporting evidence and connections
- **Entity Recognition**: Named entity extraction and linking
- **Relationship Mapping**: Network analysis of relationships and connections
- **Visualization**: Interactive 3D and 2D visualizations

### **Integration Features**
- **MCP Tools**: Comprehensive tool integration
- **API Endpoints**: RESTful API for external access
- **Web Interface**: Langflow-based workflow editor
- **Data Import**: Multiple input format support
- **Export Options**: Various output formats

## ðŸ“Š **Quality Metrics**

### **Code Quality**
- **Type Coverage**: 100% type hints
- **Documentation**: 100% docstring coverage
- **Test Coverage**: >90% code coverage
- **Linting**: Zero linting errors
- **Security**: No security vulnerabilities

### **System Performance**
- **Uptime**: 99%+ service availability
- **Response Time**: <2s for API calls
- **Resource Usage**: <80% CPU/memory utilization
- **Build Time**: <5 minutes for full build
- **Deployment**: <2 minutes for deployment

## ðŸ” **Monitoring and Logging**

### **Health Monitoring**
- **Service Health**: Docker health checks
- **API Health**: Endpoint monitoring
- **Database Health**: Connection monitoring
- **Resource Monitoring**: CPU, memory, disk usage
- **Error Tracking**: Comprehensive error logging

### **Logging Strategy**
- **Application Logs**: Structured logging with levels
- **Access Logs**: API access and usage tracking
- **Error Logs**: Detailed error information
- **Performance Logs**: Response time and resource usage
- **Audit Logs**: Security and compliance tracking

## ðŸ› ï¸ **Troubleshooting**

### **Common Issues**
1. **Service Startup**: Port conflicts, missing dependencies
2. **Database Issues**: Connection problems, data corruption
3. **MCP Server**: Configuration errors, tool availability
4. **Performance**: Resource constraints, slow queries
5. **Security**: Permission issues, authentication problems

### **Recovery Procedures**
- **Service Restart**: Automated restart procedures
- **Data Recovery**: Backup and restore procedures
- **Configuration Reset**: Reset to known good state
- **Environment Reset**: Complete environment rebuild
- **Emergency Procedures**: Critical issue response

---

**This overview provides the foundation for understanding and working with the Living Truth Engine project.**

@coding_standards.mdc
@development_workflow.mdc
@docker_best_practices.mdc
@system_management.mdc
@mcp_server_integration.mdc
